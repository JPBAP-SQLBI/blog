---
title: 動的にビジュアル変換ができる「フィールドパラメーター」 
date: 2022-06-30 15:00:00
tags:
  - Power BI
  - ビジュアル
  - フィールドパラメーター
  - 動的
  - スライサー
  - パラメーター
---

こんにちは、Power BI サポート チームのチャンです。 

Power BIのレポート内にあるグラフをエンドユーザー様の簡単の操作で自由に変えられるといいなと思うことありませんでしょうか。本ブログではそんなときに役立つ機能、フィールドパラメーター（2022年5月リリース）をご紹介します。 

<!-- more -->

> [!IMPORTANT]
> 本記事は弊社公式ドキュメントの公開情報を元に構成しておりますが、
> 本記事編集時点と実際の機能に相違がある場合がございます。
> 最新情報につきましては、参考情報として記載しておりますドキュメントをご確認ください。
> <br><br>
> また、本機能は開発段階 (プレビュー) でございますため、今後予告なしに機能が削除されたり、
> 動作変更が発生する可能性がありますことをあらかじめご了承くださいますようお願い申し上げます。

---
## 目次
---
1. [設定方法](#設定方法)
2. [メリット・活用事例](#メリット・活用事例)
3. [考慮事項と制限事項](#考慮事項と制限事項)


---
## 設定方法
---

### フィールドパラメーターのプレビューを有効にしておく 

フィールドパラメーターは既定で有効になっていないので、次の方法で機能を有効にします。 
Power BI Desktop で、 [ファイル]>[オプションと設定]>[オプション]>[プレビュー機能] に移動し、[フィールド パラメーター] にチェックを入れます。

<div align="center">
<img src="preview_field_parameter.png" alt="プレビューを有効にする" title="プレビューを有効にする">
</div>


### フィールドパラメーターを作成する 
フィールドパラメーターは、複数のデータフィールド（データ列）をスライサーの操作で切り替えられる機能です。 

1. データを読み込んだ後、[モデリング]>[新しいパラメーター]>[フィールド]を選択します。
<div align="center">
<img src="create_field_parameter1.png" alt="フィールドパラメーターの追加1" title="フィールドパラメーターの追加1">
</div>

2. パラメーター名を変更し、実際切り替え用のデータフィールドを選択し、追加し、フィールドパラメーターを作成します。

<div align="center">
<img src="create_field_parameter2.png" alt="フィールドパラメーターの追加2" title="フィールドパラメーターの追加2">
</div>

3. フィールドパラメーターを作成したら、計算テーブルとパラメーター、スライサーが自動的に追加されます。 

<div align="center">
<img src="create_field_parameter3.png" alt="フィールドパラメーターの追加3" title="フィールドパラメーターの追加3">
</div>

4. ディメンション用のデータフィールドだけではなく、集計値のメジャーに対して切り替え用のフィールドパラメーターも作成できますが、
想定通りの結果にするには、事前に新しいメジャーを作成し、SUM()の関数などで集計しておく必要があります。

<div align="center">
<img src="create_measure1.png" alt="新しいメジャーの作成" title="新しいメジャーの作成">
</div>

5. 作成済みのメジャーに対して、フィールドパラメーターを作成します。
<div align="center">
<img src="create_field_parameter4.png" alt="フィールドパラメーターの追加4" title="フィールドパラメーターの追加4">
</div>


---
## メリット・活用事例
---

以前は、レポートの作成者が用意していたビジュアルで、閲覧者がスライサーで「**データ行**」に対してフィルターをかけることしかできませんでしたが、フィールドパラメーターを活用することによって、「**データ列**」まで簡単に切り替えられるようになります。例えば、エンドユーザー様でも、ご自身の好きなように、ワンクリックで、データ分析の切口を変更したり、集計する値を変化させることが可能となります。

レポート作成者のような高度な技術を持たなくても、エンドユーザー様であるレポート閲覧者でも、様々な分析切口を組み合わせることによって、データへの理解が深まって、多様な探索を行うことで、より多くのインサイトが得られるでしょう。

以下の例は、メジャーのパラメーターを二つ作成し、それぞれ複合グラフと折れ線グラフの二つ以上のメジャーを異なる軸で比較しております。 

例えば、（１）国別の売上と利益率の比較、及び（２）セグメントごとの利益率と割引率の比較を簡単に切り替え、それぞれのグラフを作成せずとも、同じビジュアルの枠内にご確認いただくことができます。

#### （１）国別の売上と利益率の比較
<div align="center">
<img src="field_parameter_example1.png" alt="フィールドパラメーターの使用例1" title="フフィールドパラメーターの使用例1">
</div>

#### （２）セグメントごとの利益率と割引率の比較

<div align="center">
<img src="field_parameter_example2.png" alt="フィールドパラメーターの使用例2" title="フィールドパラメーターの使用例2">
</div>


</br>

- [このPower BIレポートのダウンロードはこちら(右クリックして[名前をつけてリンクを保存]))](https://github.com/JPBAP-SQLBI/blog/tree/main/articles/powerbi/pbi_field_parameter/pbi_field_parameter_sample.pbix)


上記はシンプルな一例に過ぎませんが、フィールドパラメーターを活用することで、レポート作成者は簡単な初期設定を行うだけで、レポートの閲覧者に、より動的にレポートをカスタマイズしていただくことが可能です。


---
## 考慮事項と制限事項
---

- レポート閲覧者が [なし] または [フィールドなし] オプションを選択することができません。スライサーでフィールドを選択しない場合は、すべてのフィールドを選択した場合と同様でございます。 

- 集計値をパラメーターで切り替えたい場合は、メジャーを明示的に作成する必要がございます。データモデルでは合計などの集計方法を設定しても、SUM()などのメジャーを作成しない場合は、集計しない形となります。 

- 現時点で、ライブ接続データ ソースに対して、フィールドパラメーターの作成はサポートされていません。

- 現時点では、ドリルスルー ページまたはツールヒント ページのリンクされたフィールドでは、フィールド パラメーターを使用することはできません。

</br>

> **参考情報**
> - [レポート閲覧者がフィールド パラメーターを使用してビジュアルを変更できるようにする (プレビュー)](https://learn.microsoft.com/ja-jp/power-bi/create-reports/power-bi-field-parameters) 

</br>

以上、本ブログが少しでも皆様のお役に立てますと幸いでございます。

---

**アンケートご協力のお願い**
Japan CSS Support Power BI Blog では、作成する記事やブログの品質向上を目的に、匿名回答でのアンケートを実施しております。
ユーザー様のご意見・ご要望を参考に今後もお役に立てるブログを目指してまいりますので、ぜひご協力いただけますと幸いでございます。 

※　所要時間は1分程度となります。
[【ご協力のお願い】Microsoft Japan CSS Power BI Blog ご利用に関するアンケート](https://jpbap-sqlbi.github.io/blog/powerbi/pbi_blogsurvey2022/) 
