---
title: 組織外のユーザーとPower BIコンテンツの共有
date: 2021-09-30 16:00:00
tags:
  - Power BI
  - ゲストユーザー
  - 共有
  - 組織外ユーザー
  - B2B
  - Admin
  - 管理者
---

こんにちは、Power BI サポート チームのチャンです。

Power BI ご利用のユーザー様から、「組織外のユーザーは Power BI のレポートを共有できますか？制限する方法はありますか？」などの質問をよくいただていますが、
本ブログでは、組織外のユーザーを招待し、組織内のゲストユーザーとしてコンテンツを共有する方法、及び権限を制御する方法につきまして、ご紹介いたします。

<!-- more -->

> [!IMPORTANT]
> 本記事は弊社公式ドキュメントの公開情報を元に構成しておりますが、
> 本記事編集時点と実際の機能に相違がある場合がございます。
> 最新情報につきましては、参考情報として記載しておりますドキュメントをご確認ください。


---
## 更新履歴
---
Update: 2025/03/03
ゲストユーザー関連のテナント設定が追加されたため、内容を一部修正しました。

Update: 2024/07/03
Microsoft Fabric 一般提供に伴い、テナント設定の表記が変わったため、内容を一部修正しました。
[エクスポートと共有のテナント設定](https://learn.microsoft.com/ja-jp/fabric/admin/service-admin-portal-export-sharing)

---
## 目次
---
1. [組織外のユーザーとは？](#組織外のユーザーとは？)
2. [組織外のユーザーをゲストユーザーとして招待するには](#組織外のユーザーをゲストユーザーとして招待するには)
3. [ゲストユーザーとレポートのリンクを共有するには](#ゲストユーザーとレポートのリンクを共有するには)
4. [ゲストユーザーの権限を制御するには](#ゲストユーザーの権限を制御するには)

---
## 組織外のユーザーとは？
---

組織外のユーザー（または外部ユーザー）とは、ご利用の Microsoft Entra ID テナントのドメイン以外のユーザーを指します。
具体的には、メールアドレスの@ マーク後の表記が異なるユーザーです。
gmail.com、outlook.com、hotmail.com などの個人用メールアカウントのユーザーにつきましても、組織外のユーザーと見なします。

組織内のユーザーが、組織外のユーザーと Power BI 内のレポートを共有するには、組織外のユーザーをゲストユーザーとして招待する必要があります。

---
## 組織外のユーザーをゲストユーザーとして招待するには
---

ゲストユーザーとして招待するには、計画的招待とアドホック招待という二つの方法があります。

#### ■ 計画的招待

Microsoft Entra ID からゲストユーザーを招待する方法です。

まず、[Azure ポータル](https://portal.azure.com/) へアクセスし、 Microsoft Entra ID を選択します。
次に、 Microsoft Entra ID で、[ユーザー]>[＋新しいゲストユーザー]の順で選択し、ゲストユーザーのメールアドレスを入力し、招待メールを送信します。

![](./aad_guestuser.png)

招待されたユーザーは、下記画像のようなメールが届きますので、メールに記載されているリンクをクリックし、指示に従いアカウントの有効化を行なってください。

![](./guestuser_mail.png)

> [!TIP]
>  Microsoft Entra ID 側でゲストユーザーを招待できるユーザーを制限することも可能ですので、その詳細については下記のドキュメントをご参考ください。
> 参考：[外部コラボレーションの設定を構成する](https://learn.microsoft.com/ja-jp/entra/external-id/external-collaboration-settings-configure)

#### ■ アドホック招待

レポートやダッシュボードの共有機能、またはアプリ発行のアクセスページで、Microsoft Entra ID に存在しない組織外のユーザーを招待する方法です。

レポートの直接アクセスから追加する方法には、レポートの[アクセス許可の管理]にアクセスし、
直接アクセスで、[+ユーザーの追加]を行ない、組織外のユーザーのメールアドレスを入力すると、招待メールが対象のユーザーに届きます。

![](./adhoc_invitation.png)

また、招待されたユーザーは、保留のリストで表示されます。

![](./pending.png)

レポートからの招待の場合は、下記のような招待メールが届きますが、リンクからアカウントを作成したら、直接アクセスの一覧に表示されるようになります。

![](./adhoc_invite_mail.png)

> [!TIP]
> 管理ポータルで、テナント設定「組織への外部ユーザーの招待」を無効化することによって、アドホック招待を使用できないように設定することができます。

> **参考情報**
> - [Microsoft Entra B2B で外部ゲスト ユーザーに Power BI コンテンツを配布する](https://learn.microsoft.com/ja-jp/power-bi/enterprise/service-admin-azure-ad-b2b)

--- 

#### ■ ライセンスとアクセス許可

計画的招待で、ゲストユーザーとして招待されたユーザーは、ワークスペースのアクセス許可、レポートやダッシュボード、アプリのアクセス許可でも追加できるようになります。
また、アドホック招待を通してアカウントを作成したゲストユーザーも、招待元のレポート・ダッシュボード・アプリを閲覧できる上に、計画的招待のゲストユーザーと同様、他のレポートやダッシュボード、アプリのアクセス許可にも追加されることが可能です。

ただし、ゲストユーザーがコンテンツを閲覧するには、以下のライセンス条件が必要です。

- ゲストユーザーに Power BI Pro ライセンスまたは Premium Per User ライセンスの付与
- Premium Per Capacity (または F64 以上のFabric 容量) のワークスペースで、ゲストユーザーにはライセンスなしで閲覧可能
- ゲストユーザーが本来所属しているテナントで、Power BI Pro ライセンスまたは Premium Per User ライセンスを所持している


また、対象のゲストユーザーが、コンテンツを編集・作成・管理できるようになるには、Power BI Pro ライセンスまたは Premium Per User ライセンスを所持する上で、共同作成者以上のワークスペースロールが付与されている必要がございます。

しがしながら、通常のユーザーと異なり、コンテンツを編集・作成・管理できるようになったとしても、ゲストユーザーには一部利用できない機能があります。
詳細につきましては、下記参考情報のドキュメントに記載されている、「考慮事項と制限事項」の内容をご確認ください。

> **参考情報**
> - [Microsoft Entra B2B で外部ゲスト ユーザーに Power BI コンテンツを配布する（考慮事項と制限事項）](https://learn.microsoft.com/ja-jp/power-bi/enterprise/service-admin-azure-ad-b2b#considerations-and-limitations)

---
## ゲストユーザーとレポートのリンクを共有するには
---

組織外のユーザーを招待してから、招待されたゲストユーザーとレポートのリンクを共有する際に、ブラウザー上に表示されるレポートの URL をそのまま共有することがございます。
しかしながら、その場合、ゲストユーザーは招待されたテナントにサインインできず、自分の所属テナントにサインインしてしまうため、レポートが見つからないまたはアクセス許可がないというエラー事象が発生します。

正しくゲストユーザーとレポートを共有するには、まずはゲストユーザーをレポートまたはワークスペースのアクセス許可に追加します。次に以下の手順で**テナント ID** が含まれる URL をゲストユーザーと共有してください。

**テナント ID** が含まれる URL を取得するには、[ヘルプ] > [Power BI について] の順でクリックし、[テナントのURL] をコピーしてください。

![](./tenant_url1.png)
![](./tenant_url2.png)


---
## ゲストユーザーの権限を制御するには
---

管理ポータルのテナント設定で、ゲストユーザーが Power BI サービスのテナントへアクセスできないようにすることや、アドホック招待を無効化にすることができます。

#### ■ ゲスト ユーザーが Microsoft Fabric へのアクセスが可能

既定値は有効化されていますが、この設定を無効にすると、Power BI サービスや Fabric にアクセスしようとしたときに、ゲストユーザーにエラーが表示されます。

![](./tenant_setting2.png)

#### ■ ユーザーはゲスト ユーザーを招待して、項目の共有とアクセス許可を通じて共同作業できます

既定値は有効化されていますが、この設定を無効にすると、アドホック招待でレポートやダッシュボード、アプリから組織外のユーザーを招待することができません。
ただし、計画的招待ー Microsoft Entra ID でゲストユーザーを招待することは引き続き可能です。

![](./tenant_setting3.png)

> [!TIP]
> 計画的招待－Microsoft Entra ID 側でゲストユーザーを招待できるユーザーを制限することも可能ですので、その詳細については下記のブログ記事をご参考ください。
> [Microsoft Entra ID の外部コラボレーションの設定が与える影響について](https://jpbap-sqlbi.github.io/blog/powerbi/pbi_guest_user_access_restrict/)

#### ■ ゲスト ユーザーは Fabric コンテンツを閲覧およびアクセスできます

既定値では無効となっていますが、この設定を有効にすると、組織において左側のナビゲーション ウィンドウを使用してワークスペースやアプリにフル アクセスすることができます。

![](./tenant_setting1.png)


#### ■ ユーザーは、提案されているユーザーの一覧でゲスト ユーザーを確認できます
既定値では有効となっていますが、この設定を無効にすると、アクセス許可を追加するときに、ゲストユーザーの一部のユーザー名を入力する際に、ゲストユーザーは候補として自動的にリストアップされず、ゲストユーザーを追加するには、完全なメールアドレスを入力する必要があります。

![](./tenant_setting4.png)

#### ■ B2B ゲスト ユーザーによるメール サブスクリプションの設定と登録が可能
既定値では有効となっていますが、この設定を無効にすると、ゲストユーザーがメールサブスクリプションの登録を実施できなくなります。
![](./tenant_setting5.png)

メールサブスクリプションの機能につきましては、以下の公開情報をご参考ください。
[組織外のユーザーのサブスクリプション | Power BI サービスのレポートとダッシュボードのメール サブスクリプション](https://learn.microsoft.com/ja-jp/power-bi/collaborate-share/end-user-subscribe?tabs=creator#subscriptions-for-users-outside-your-organization)

また、本設定を無効にすると、次に紹介する [ユーザーによる外部ユーザーへのメール サブスクリプションの送信が可能] 設定も自動的に無効になります。

#### ■ ユーザーによる外部ユーザーへのメール サブスクリプションの送信が可能
既定値では有効となっていますが、この設定を無効にすると、外部ユーザー（※）をメールサブスクリプションの送信先として登録することができなくなります。
![](./tenant_setting6.png)

また、本設定は、前項の[B2B ゲスト ユーザーによるメール サブスクリプションの設定と登録が可能] を無効にすることで、自動的に無効となります。

（※）外部ユーザーとは、テナントにゲストユーザーとして招待・登録されていないユーザーのことを指します。

#### ■ ゲスト ユーザーは自身のテナントで共有セマンティック モデルを操作できます

既定値では無効となっています。その場合、このテナントに招待されたゲストユーザーは自分の所属テナントでゲストとして共有されたセマンティックモデルにアクセスできません。
この設定を有効化すると、以下の公開情報の手順の通り、自分の所属テナントから、ゲストテナントで外部共有されたセマンティックモデルにアクセスすることが可能です。

[外部組織からゲスト ユーザーとして Power BI の共有セマンティック モデルにアクセスする (プレビュー) - コンシューマー](https://learn.microsoft.com/ja-jp/power-bi/collaborate-share/service-dataset-external-org-share-view#access-shared-semantic-models)

![](./tenant_setting7.png)

#### ■ 特定のユーザーが外部データ共有を有効にすることを許可する

既定値では無効となっていますが、この設定を有効化すると、以下の公開情報の手順の通り、セマンティックモデルの[外部共有]をオンにすることで、ゲストユーザーは自分の所属テナントからそのセマンティックモデルにアクセスできます。

[Power BI インプレース セマンティック モデル共有 (プレビュー) を使用してセマンティック モデルを外部ユーザーと共有する - データ プロバイダー](https://learn.microsoft.com/ja-jp/power-bi/collaborate-share/service-dataset-external-org-share-provider)

![](./tenant_setting8.png)

</p>

> [!WARNING]
> **「外部データ共有」** というテナント設定がございます、その設定は OneLake のデータを外部テナントとの共有可否を制御する設定でございます。本記事で紹介する B2B ゲストユーザーの概念とは全く異なる共有方法でございます。
> 詳細につきましては、以下の公開情報をご参考ください。
> 参考：[Microsoft Fabric での外部データ共有](https://learn.microsoft.com/ja-jp/fabric/governance/external-data-sharing-overview)


> **参考情報**
> - [エクスポートと共有のテナント設定](https://learn.microsoft.com/ja-jp/fabric/admin/service-admin-portal-export-sharing)

> **本ブログの関連記事**
> - [Microsoft Entra ID の外部コラボレーションの設定が与える影響について](https://jpbap-sqlbi.github.io/blog/powerbi/pbi_guest_user_access_restrict/)

</br>

以上、本ブログが少しでも皆様のお役に立てますと幸いでございます。

---

**アンケートご協力のお願い**
Japan CSS Support Power BI Blog では、作成する記事やブログの品質向上を目的に、匿名回答でのアンケートを実施しております。
ユーザー様のご意見・ご要望を参考に今後もお役に立てるブログを目指してまいりますので、ぜひご協力いただけますと幸いでございます。 

※　所要時間は1分程度となります。
[【ご協力のお願い】Microsoft Japan CSS Power BI Blog ご利用に関するアンケート](https://jpbap-sqlbi.github.io/blog/powerbi/pbi_blogsurvey2022/)